<!DOCTYPE html>
 <meta charset="UTF-8"> 

<html>
<head>
</head>
<body>
	<canvas id="c" width="500" height="500"></canvas>
	<script>
		var c = document.querySelector("#c");
		var ctx = c.getContext("2d");
                
                // use save() and restore() to maintain a stack of drawing
                // states - LIFO (last in, first out)

                // we could manually switch the fill style each time
                /*
                ctx.fillStyle = "blue";
                ctx.fillRect(0,0,50,50);

                ctx.fillStyle = "green"
                ctx.fillRect(100,100,10,10);

                ctx.fillStyle = "blue";
                ctx.fillRect(200,10,20,20);
                */

                // This is better.
                ctx.fillStyle = "blue";
                ctx.fillRect(0,0,50,50);

                // Save state with blue fill
                ctx.save();
                ctx.fillStyle = "green";
                ctx.fillRect(100,100,10,10);
                
                // Restore to blue fill
                ctx.restore();
                ctx.fillRect(200,10,20,20);
        </script>
</body>
</html>
